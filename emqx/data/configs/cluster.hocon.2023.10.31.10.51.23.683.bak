authorization {
  cache {
    enable = true
    max_size = 32
    ttl = 1m
  }
  deny_action = ignore
  no_match = allow
  sources = [
    {
      collection = use_statistics
      database = emqx_rule_engine_output
      enable = true
      filter {username = "${username}"}
      mongo_type = single
      password = public
      pool_size = 8
      server = "127.0.0.1:27017"
      srv_record = false
      ssl {
        ciphers = []
        depth = 10
        enable = false
        hibernate_after = 5s
        log_level = notice
        reuse_sessions = true
        secure_renegotiate = true
        verify = verify_peer
        versions = [tlsv1.3, tlsv1.2]
      }
      topology {
        connect_timeout_ms = 20s
        heartbeat_frequency_ms = 200s
        max_overflow = 0
      }
      type = mongodb
      use_legacy_protocol = auto
      username = "root "
    },
    {
      enable = true
      path = "${EMQX_ETC_DIR}/acl.conf"
      type = file
    }
  ]
}
rule_engine {
  ignore_sys_message = true
  jq_function_default_timeout = 10s
  rules {}
}
sysmon {
  os {
    cpu_check_interval = 60s
    cpu_high_watermark = 80%
    cpu_low_watermark = 60%
    procmem_high_watermark = 5%
    sysmem_high_watermark = 70%
  }
  vm {
    busy_dist_port = true
    busy_port = true
    large_heap = 32MB
    long_gc = disabled
    long_schedule = 240ms
    process_check_interval = 30s
    process_high_watermark = 80%
    process_low_watermark = 60%
  }
}
